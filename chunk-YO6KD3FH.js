import{a as De,b as z}from"./chunk-YUGJEFV7.js";import{a as xe,b as Ee}from"./chunk-KVGMTMPN.js";import{a as ge,e as fe,i as ve,p as ke,s as ye}from"./chunk-GJAULJBT.js";import{a as ne,d as ce}from"./chunk-K3W4U4ZG.js";import{a as me,b as ue,c as pe,d as he,f as _e,h as be}from"./chunk-COWIBSMX.js";import{b as Ie}from"./chunk-KW5VBN5V.js";import{C as re,G as P,K as oe,L as ae,T as de,U as se,V as le}from"./chunk-PT23TE2W.js";import"./chunk-Q64FFBLU.js";import{$ as V,Ab as X,Bb as Y,Cb as Z,Db as F,Ea as J,Eb as v,Fb as k,Hb as c,Jb as O,Lb as K,Mb as ee,Nb as te,Ob as ie,Pb as y,Ta as u,Ua as s,Z as j,_ as L,_b as B,ac as _,ba as D,bc as G,d as l,da as $,eb as R,ga as m,ha as g,ia as U,ja as H,jb as M,kb as p,mb as A,pa as w,qa as C,qb as o,qc as I,rb as a,sb as T,ua as Q,ub as W,xa as f,xb as h,ya as S}from"./chunk-HBN3XZPF.js";var Fe=["input"],Oe=["formField"],Be=["*"],Ce=0,x=class{constructor(Ae,e){this.source=Ae,this.value=e}},Ge={provide:ge,useExisting:j(()=>N),multi:!0},Se=new D("MatRadioGroup"),Pe=new D("mat-radio-default-options",{providedIn:"root",factory:ze});function ze(){return{color:"accent"}}var N=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${Ce++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new S}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new x(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static{this.\u0275fac=function(i){return new(i||n)(s(B))}}static{this.\u0275dir=H({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,t,r){if(i&1&&Z(r,E,5),i&2){let d;v(d=k())&&(t._radios=d)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[m.HasDecoratorInputTransform,"disabled","disabled",_],required:[m.HasDecoratorInputTransform,"required","required",_]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[ie([Ge,{provide:Se,useExisting:n}]),R]})}}return n})(),E=(()=>{class n{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,t,r,d,b,Te,q){this._elementRef=i,this._changeDetector=t,this._focusMonitor=r,this._radioDispatcher=d,this._providerOverride=Te,this._uniqueId=`mat-radio-${++Ce}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new S,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations=b==="NoopAnimations",q&&(this.tabIndex=G(q,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new x(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){let e=this.radioGroup,i;if(!e||!e.selected||this.disabled?i=this.tabIndex:i=e.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let t=this._inputElement?.nativeElement;t&&(t.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static{this.\u0275fac=function(i){return new(i||n)(s(Se,8),s(f),s(B),s(re),s(ye),s(J,8),s(Pe,8),Q("tabindex"))}}static{this.\u0275cmp=g({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,t){if(i&1&&(F(Fe,5),F(Oe,7,f)),i&2){let r;v(r=k())&&(t._inputElement=r.first),v(r=k())&&(t._rippleTrigger=r.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,t){i&1&&h("focus",function(){return t._inputElement.nativeElement.focus()}),i&2&&(M("id",t.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),A("mat-primary",t.color==="primary")("mat-accent",t.color==="accent")("mat-warn",t.color==="warn")("mat-mdc-radio-checked",t.checked)("_mat-animation-noopable",t._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[m.None,"aria-label","ariaLabel"],ariaLabelledby:[m.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[m.None,"aria-describedby","ariaDescribedby"],disableRipple:[m.HasDecoratorInputTransform,"disableRipple","disableRipple",_],tabIndex:[m.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:G(e)],checked:[m.HasDecoratorInputTransform,"checked","checked",_],value:"value",labelPosition:"labelPosition",disabled:[m.HasDecoratorInputTransform,"disabled","disabled",_],required:[m.HasDecoratorInputTransform,"required","required",_],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[R,y],ngContentSelectors:Be,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,t){if(i&1){let r=W();X(),o(0,"div",2,0)(2,"div",3)(3,"div",4),h("click",function(b){return w(r),C(t._onTouchTargetClick(b))}),a(),o(4,"input",5,1),h("change",function(b){return w(r),C(t._onInputInteraction(b))}),a(),o(6,"div",6),T(7,"div",7)(8,"div",8),a(),o(9,"div",9),T(10,"div",10),a()(),o(11,"label",11),Y(12),a()()}i&2&&(p("labelPosition",t.labelPosition),u(2),A("mdc-radio--disabled",t.disabled),u(2),p("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("required",t.required),M("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),u(5),p("matRippleTrigger",t._rippleTrigger.nativeElement)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0),u(2),p("for",t.inputId))},dependencies:[oe,de],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}}return n})(),Re=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=U({type:n})}static{this.\u0275inj=V({imports:[P,I,ae,E,P]})}}return n})();var Me=(()=>{class n{constructor(e){this.storage=e,this.EXPORT_VERSION="1.0"}exportData(){return l(this,null,function*(){let[e,i,t,r]=yield Promise.all([this.storage.getAllBooks(),this.storage.getAllReadingEntries(),this.storage.getAllNotes(),this.storage.getAllPreferences()]);return{version:this.EXPORT_VERSION,exportDate:new Date().toISOString(),books:e,readingEntries:i,notes:t,preferences:r}})}downloadExport(){return l(this,null,function*(){let e=yield this.exportData(),i=JSON.stringify(e,null,2),t=new Blob([i],{type:"application/json"}),r=URL.createObjectURL(t),d=document.createElement("a");d.href=r,d.download=`ncn-books-export-${new Date().toISOString().split("T")[0]}.json`,d.click(),URL.revokeObjectURL(r)})}importData(e,i="merge"){return l(this,null,function*(){let t={success:!1,booksImported:0,entriesImported:0,notesImported:0,preferencesImported:0,conflicts:[],errors:[]};try{if(!this.validateImportData(e))return t.errors.push("Invalid import data format"),t;i==="replace"&&(yield this.clearAllData());for(let r of e.books)try{let d=yield this.storage.getBook(r.isbn);d&&i==="merge"?new Date(r.addedAt)>new Date(d.addedAt)?(yield this.storage.updateBook(r.isbn,r),t.booksImported++):t.conflicts.push({type:"book",identifier:r.isbn,message:`Book "${r.title}" already exists and is newer`}):(yield this.storage.addBook(r),t.booksImported++)}catch(d){t.errors.push(`Failed to import book ${r.isbn}: ${d}`)}for(let r of e.readingEntries)try{let d=yield this.storage.getReadingEntry(r.id);d&&i==="merge"?new Date(r.lastUpdated)>new Date(d.lastUpdated)?(yield this.storage.updateReadingEntry(r.id,{status:r.status,startedDate:r.startedDate,finishedDate:r.finishedDate,currentPage:r.currentPage}),t.entriesImported++):t.conflicts.push({type:"entry",identifier:r.id.toString(),message:`Entry for book ${r.isbn} already exists and is newer`}):(yield this.storage.addReadingEntry(r),t.entriesImported++)}catch(d){t.errors.push(`Failed to import entry ${r.id}: ${d}`)}for(let r of e.notes)try{let d=yield this.storage.getNote(r.id);d&&i==="merge"?new Date(r.updatedAt)>new Date(d.updatedAt)?(yield this.storage.updateNote(r.id,r.content),t.notesImported++):t.conflicts.push({type:"note",identifier:r.id.toString(),message:`Note ${r.id} already exists and is newer`}):(yield this.storage.addNote(r),t.notesImported++)}catch(d){t.errors.push(`Failed to import note ${r.id}: ${d}`)}for(let r of e.preferences)try{yield this.storage.setPreference(r.key,r.value),t.preferencesImported++}catch(d){t.errors.push(`Failed to import preference ${r.key}: ${d}`)}return t.success=t.errors.length===0,t}catch(r){return t.errors.push(`Import failed: ${r}`),t}})}importFromFile(e,i="merge"){return l(this,null,function*(){try{let t=yield e.text(),r=JSON.parse(t);return yield this.importData(r,i)}catch(t){return{success:!1,booksImported:0,entriesImported:0,notesImported:0,preferencesImported:0,conflicts:[],errors:[`Failed to parse import file: ${t}`]}}})}validateImportData(e){return e&&typeof e=="object"&&typeof e.version=="string"&&typeof e.exportDate=="string"&&Array.isArray(e.books)&&Array.isArray(e.readingEntries)&&Array.isArray(e.notes)&&Array.isArray(e.preferences)}clearAllData(){return l(this,null,function*(){yield Promise.all([this.storage.clearAllBooks(),this.storage.clearAllNotes(),this.storage.clearAllPreferences()])})}static{this.\u0275fac=function(i){return new(i||n)($(Ie))}}static{this.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yt=(()=>{class n{constructor(e,i,t){this.exportImportService=e,this.dialog=i,this.snackBar=t,this.importStrategy="merge",this.isExporting=!1,this.isImporting=!1}exportData(){return l(this,null,function*(){this.isExporting=!0;try{yield this.exportImportService.downloadExport(),this.snackBar.open("Data exported successfully!","Close",{duration:3e3})}catch(e){console.error("Export error:",e),this.snackBar.open("Error exporting data","Close",{duration:3e3})}finally{this.isExporting=!1}})}triggerFileInput(){let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=i=>{let t=i.target.files[0];t&&this.importData(t)},e.click()}importData(e){return l(this,null,function*(){this.dialog.open(z,{data:{title:"Import Data",message:this.importStrategy==="replace"?"This will REPLACE all existing data. Are you sure?":"This will MERGE imported data with existing data. Conflicts will be resolved by keeping the newer version.",confirmText:"Import",cancelText:"Cancel"}}).afterClosed().subscribe(t=>l(this,null,function*(){t&&(yield this.performImport(e))}))})}performImport(e){return l(this,null,function*(){this.isImporting=!0;try{let i=yield this.exportImportService.importFromFile(e,this.importStrategy);if(i.success){let t=`Import successful! Books: ${i.booksImported}, Entries: ${i.entriesImported}, Notes: ${i.notesImported}`;this.snackBar.open(t,"Close",{duration:5e3}),i.conflicts.length>0&&this.snackBar.open(`${i.conflicts.length} conflicts skipped (kept existing data)`,"Close",{duration:3e3})}else{let t=i.errors.length>0?i.errors[0]:"Import failed";this.snackBar.open(t,"Close",{duration:5e3})}}catch(i){console.error("Import error:",i),this.snackBar.open("Error importing data","Close",{duration:3e3})}finally{this.isImporting=!1}})}clearAllData(){this.dialog.open(z,{data:{title:"Clear All Data",message:"This will permanently delete ALL books, notes, and preferences. This action cannot be undone!",confirmText:"Delete Everything",cancelText:"Cancel"}}).afterClosed().subscribe(i=>l(this,null,function*(){if(i)try{yield this.exportImportService.importData({version:"1.0",exportDate:new Date().toISOString(),books:[],readingEntries:[],notes:[],preferences:[]},"replace"),this.snackBar.open("All data cleared","Close",{duration:3e3})}catch(t){console.error("Clear data error:",t),this.snackBar.open("Error clearing data","Close",{duration:3e3})}}))}static{this.\u0275fac=function(i){return new(i||n)(s(Me),s(De),s(xe))}}static{this.\u0275cmp=g({type:n,selectors:[["app-settings"]],standalone:!0,features:[y],decls:74,vars:5,consts:[[1,"container","mx-auto","p-4","max-w-4xl"],[1,"text-3xl","font-bold","mb-6"],[1,"mb-6"],[1,"mt-4"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"flex","flex-col","gap-3","mb-4",3,"ngModelChange","ngModel"],["value","merge"],[1,"ml-2"],[1,"text-sm","text-gray-600"],["value","replace"],[1,"text-red-600","font-medium"],[1,"border-2","border-red-500"],[1,"text-red-600"],[1,"bg-red-50","p-4","rounded","mb-4"],[1,"flex","items-start","gap-2"],[1,"text-red-600","mt-1"],[1,"font-medium","text-red-900","mb-1"],[1,"text-sm","text-red-800"],["mat-raised-button","","color","warn",3,"click"],[1,"mt-6"],[1,"text-gray-600","mb-2"],[1,"text-sm","text-gray-600","mb-2"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"h1",1),c(2,"Settings"),a(),o(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),c(6,"Export Data"),a(),o(7,"mat-card-subtitle"),c(8,"Download your library as a JSON file"),a()(),o(9,"mat-card-content",3)(10,"p",4),c(11," Export all your books, reading entries, notes, and preferences to a JSON file. This file can be used as a backup or to transfer your data to another device. "),a(),o(12,"button",5),h("click",function(){return t.exportData()}),o(13,"mat-icon"),c(14,"download"),a(),c(15),a()()(),o(16,"mat-card",2)(17,"mat-card-header")(18,"mat-card-title"),c(19,"Import Data"),a(),o(20,"mat-card-subtitle"),c(21,"Restore from a JSON backup file"),a()(),o(22,"mat-card-content",3)(23,"p",4),c(24," Import data from a previously exported JSON file. Choose your import strategy: "),a(),o(25,"mat-radio-group",6),te("ngModelChange",function(d){return ee(t.importStrategy,d)||(t.importStrategy=d),d}),o(26,"mat-radio-button",7)(27,"div",8)(28,"strong"),c(29,"Merge"),a(),o(30,"p",9),c(31," Combine imported data with existing data. Conflicts will be resolved by keeping the newer version. "),a()()(),o(32,"mat-radio-button",10)(33,"div",8)(34,"strong"),c(35,"Replace"),a(),o(36,"p",9)(37,"span",11),c(38,"Delete all existing data"),a(),c(39," and replace it with imported data. "),a()()()(),o(40,"button",5),h("click",function(){return t.triggerFileInput()}),o(41,"mat-icon"),c(42,"upload"),a(),c(43),a()()(),o(44,"mat-card",12)(45,"mat-card-header")(46,"mat-card-title",13),c(47,"Danger Zone"),a()(),o(48,"mat-card-content",3)(49,"div",14)(50,"div",15)(51,"mat-icon",16),c(52,"warning"),a(),o(53,"div")(54,"p",17),c(55,"Clear All Data"),a(),o(56,"p",18),c(57," This will permanently delete all books, reading entries, notes, and preferences. This action cannot be undone! "),a()()()(),o(58,"button",19),h("click",function(){return t.clearAllData()}),o(59,"mat-icon"),c(60,"delete_forever"),a(),c(61," Clear All Data "),a()()(),o(62,"mat-card",20)(63,"mat-card-header")(64,"mat-card-title"),c(65,"About"),a()(),o(66,"mat-card-content",3)(67,"p",21)(68,"strong"),c(69,"NCN Books Reading Log"),a()(),o(70,"p",22),c(71," Version 1.0 "),a(),o(72,"p",9),c(73," A personal reading tracker for managing your book collection and reading progress. All data is stored locally in your browser using IndexedDB. "),a()()()()),i&2&&(u(12),p("disabled",t.isExporting),u(3),O(" ",t.isExporting?"Exporting...":"Export Data"," "),u(10),K("ngModel",t.importStrategy),u(15),p("disabled",t.isImporting),u(3),O(" ",t.isImporting?"Importing...":"Import Data"," "))},dependencies:[I,ke,fe,ve,be,me,pe,_e,he,ue,ce,ne,le,se,Re,N,E,Ee]})}}return n})();export{yt as SettingsComponent};
